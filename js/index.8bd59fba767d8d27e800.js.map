{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ts/components/BaseComponent.ts","webpack:///./src/ts/constants/newsApi.ts","webpack:///./src/ts/utils/dateHelper.ts","webpack:///./src/ts/constants/dateTime.ts","webpack:///./src/ts/components/Container.ts","webpack:///./src/ts/constants/news.ts","webpack:///./src/ts/modules/api/Api.ts","webpack:///./src/ts/modules/DataStorage.ts","webpack:///./src/ts/constants/dataStorage.ts","webpack:///./src/ts/utils/calculator.ts","webpack:///./src/ts/components/HidesComponent.ts","webpack:///./src/blocks/button/Button.ts","webpack:///./src/pages/index/index.ts","webpack:///./src/ts/modules/FormValidator.ts","webpack:///./src/ts/constants/validation.ts","webpack:///./src/ts/modules/api/NewsApi.ts","webpack:///./src/blocks/form/Form.ts","webpack:///./src/blocks/card/Card.ts","webpack:///./src/images/cards/womanyellingcat.jpg","webpack:///./src/blocks/no-result/NoResult.ts","webpack:///./src/blocks/loading/Loading.ts","webpack:///./src/blocks/bad-request/BadRequest.ts","webpack:///./src/blocks/button/HidesButton.ts","webpack:///./src/ts/components/HidesContainer.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","element","this","_element","NEWS_API_URL","NEWS_API_KEY","PAGE_SIZE","DAYS_AGO_COUNT","PUBLISHED_AT","REQUIRED_VALIDATE_INPUT_TEXT","BAD_NEWS_API_RESULT","NEWS_LANGUAGE","getDaysAgoString","now","Date","setDate","getDate","toISOString","getDateWithStringMonth","isoDate","date","QUESTION_RUSSIAN_MONTH_NAMES","getMonth","getFullYear","getFirstNewsMonth","articles","firstArticle","length","firstArticleMonth","publishedAt","RUSSIAN_MONTH_NAMES","compareDates","first","second","firstDate","secondDate","sortByDateDesc","sort","RUSSIAN_DAY_OF_WEEK_NAMES","Container","container","super","_container","items","forEach","item","appendChild","innerHTML","SHOWED_NEWS_PACK_SIZE","url","request","response","fetch","ok","Error","statusText","json","save","localStorage","setItem","JSON","stringify","load","parse","getItem","QUESTION","TOTAL_RESULTS","ARTICLES","DISPLAYED_COUNT","getCountInTitle","word","toLowerCase","regex","RegExp","reduce","sum","curr","title","split","getMatchesInArticle","article","count","description","getDisplayedCount","arrayLength","HidesComponent","hideSelector","_hideSelector","classList","remove","add","Button","clickHandler","setClickHandler","callback","addEventListener","searchForm","document","querySelector","cardsNode","cardsContainer","cardTemplate","content","cardsButtonNode","noResultNode","loadingNode","badRequestNode","newsApi","dataStorage","form","event","preventDefault","badRequest","hide","noResult","cardList","clear","loading","show","disableForm","question","getQuestion","getNews","then","res","enableForm","displayedCount","totalResults","saveInStorage","cardsButton","firstCards","slice","map","ar","render","processGoodResponse","catch","currentCount","newCount","newCards","news","showedCards","savedQuestion","setQuestion","init","getNotSubmitInputs","Array","from","elements","filter","input","type","setSubmitButtonState","checkInputsValidity","submitButton","removeAttribute","setAttribute","every","isValidate","inp","index","array","setCustomValidity","validity","valueMissing","VALIDATION_ERROR_MESSAGES","checkValidity","handleInput","setErrorContent","target","nextElementSibling","textContent","validationMessage","NewsApi","http","method","Form","submitHandler","setSubmitHandler","style","pointerEvents","_searchInput","Card","template","source","urlToImage","author","newCard","cloneNode","imageNode","onerror","NoResult","Loading","BadRequest","addTitle","HidesButton","HidesContainer"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gFClFrD,gBAGE,YAAYC,GACVC,KAAKC,SAAWF,K,oOCJP,EAAAG,aAAe,8CACf,EAAAC,aAAe,mCACf,EAAAC,UAAY,IACZ,EAAAC,eAAiB,EACjB,EAAAC,aAAe,cACf,EAAAC,6BAA+B,8BAC/B,EAAAC,oBAAsB,qIAEtB,EAAAC,cAAgB,M,sKCR7B,aACA,OAGa,EAAAC,iBAAmB,KAC9B,MAAMC,EAAM,IAAIC,KAEhB,OADAD,EAAIE,QAAQF,EAAIG,UAAY,EAAAT,gBACrBM,EAAII,eAGA,EAAAC,uBAA0BC,IACrC,MAAMC,EAAO,IAAIN,KAAKK,GAItB,MAAO,GAHKC,EAAKJ,aACH,EAAAK,6BAA6BD,EAAKE,gBACnCF,EAAKG,iBAKP,EAAAC,kBAAqBC,IAChC,MAAMC,EAAeD,EAASA,EAASE,OAAS,GAC1CC,EAAoB,IAAId,KAAKY,EAAaG,aAAaP,WAC7D,OAAO,EAAAQ,oBAAoBF,IAG7B,MAAMG,EAAe,CAACC,EAAgBC,KACpC,MAAMC,EAAYF,EAAMH,YAClBM,EAAaF,EAAOJ,YAC1B,OAAIK,EAAYC,EACP,EACAD,EAAYC,GACX,EAED,GAGE,EAAAC,eAAkBX,GACtBA,EAASY,KAAKN,I,sKCrCV,EAAAV,6BAA+B,CAAC,SAAU,UAAW,QAAS,SAAU,MAAO,OAC1F,OAAQ,UAAW,WAAY,UAAW,SAAU,WACzC,EAAAS,oBAAsB,CAAC,SAAU,UAAW,OAAQ,SAAU,MAAO,OAChF,OAAQ,SAAU,WAAY,UAAW,SAAU,WACxC,EAAAQ,0BAA4B,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,O,kKCJ9E,gBAGA,MAAqBC,UAAkB,UAGrC,YAAYC,EAAwBvC,GAClCwC,MAAMxC,GACNC,KAAKwC,WAAaF,EAGpB,OAAOG,GACLA,EAAMC,QAAQC,GAAQ3C,KAAKwC,WAAWI,YAAYD,IAGpD,QACE3C,KAAKwC,WAAWK,UAAY,IAbhC,a,6GCHa,EAAAC,sBAAwB,G,8YCArC,gBACkB,KAAQC,EAAaC,G,yCACnC,MAAMC,QAAiBC,MAAMH,EAAKC,GAClC,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3B,OAAOJ,EAASK,a,8ECNpB,8BACE,KAAAC,KAAO,CAACZ,EAAc3D,KACpBwE,aAAaC,QAAQd,EAAMe,KAAKC,UAAU3E,KAG5C,KAAA4E,KAAQjB,GAAsBe,KAAKG,MAAcL,aAAaM,QAAQnB,O,6ICL3D,EAAAoB,SAAW,WACX,EAAAC,cAAgB,eAChB,EAAAC,SAAW,WACX,EAAAC,gBAAkB,kB,iJCH/B,aAGa,EAAAC,gBAAkB,CAAC5C,EAAqB6C,KACnDA,EAAOA,EAAKC,cACZ,MAAMC,EAAQ,IAAIC,OAAO,GAAGH,EAAQ,MACpC,OAAO7C,EAASiD,OAAO,CAACC,EAAKC,IAGpBD,EADOC,EAAKC,MAAMN,cACNO,MAAMN,GAAO7C,OAAS,EAE3C,IAGW,EAAAoD,oBAAsB,CAACC,EAAkBV,KACpDA,EAAOA,EAAKC,cACZ,MAAMC,EAAQ,IAAIC,OAAO,GAAGH,EAAQ,MACpC,IAAIW,EAAQD,EAAQH,MAChBG,EAAQH,MAAMN,cAAcO,MAAMN,GAAO7C,OAAS,EAClD,EAIJ,OAHAsD,GAASD,EAAQE,YACbF,EAAQE,YAAYX,cAAcO,MAAMN,GAAO7C,OAAS,EACxD,EACGsD,GAGI,EAAAE,kBAAoB,CAACC,EAAqBH,IAC9CG,EAAc,EAAApC,uBAAyBiC,EAC1CA,EAAQ,EAAAjC,sBACRoC,G,kKC7BN,gBAGA,MAAqBC,UAAuB,UAG1C,YAAYpF,EAAsBqF,GAChC7C,MAAMxC,GACNC,KAAKqF,cAAgBD,EAGvB,OACEpF,KAAKC,SAASqF,UAAUC,OAAOvF,KAAKqF,eAGtC,OACErF,KAAKC,SAASqF,UAAUE,IAAIxF,KAAKqF,gBAbrC,a,kKCHA,gBAEA,MAAqBI,UAAe,UAClC,YAAY1F,EAAsB2F,GAChCnD,MAAMxC,GAIA,KAAA4F,gBAAmBC,IACzB5F,KAAKC,SAAS4F,iBAAiB,QAASD,IAJxC5F,KAAK2F,gBAAgBD,IAHzB,a,+dCFA,MACA,iBACA,WACA,WACA,WACA,UACA,OACA,OACA,WACA,WACA,WACA,OACA,WACA,WAGMI,EAA8BC,SAASC,cAAc,SACrDC,EAAyBF,SAASC,cAAc,UAChDE,EAA8BD,EAAUD,cAAc,gBAGtDG,EAD2CJ,SAASC,cAAc,kBACVI,QAAQJ,cAAc,SAE9EK,EAA+BN,SAASC,cAAc,uBACtDM,EAA4BP,SAASC,cAAc,cACnDO,EAA2BR,SAASC,cAAc,YAClDQ,EAA8BT,SAASC,cAAc,gBAErDS,EAAU,IAAI,UACdC,EAAc,IAAI,UAClBC,EAAO,IAAI,UAAKb,GAgDtB,SAAwBc,G,yCACtBA,EAAMC,iBAzCNC,EAAWC,OACXC,EAASD,OACTE,EAASF,OACTE,EAASC,QACTC,EAAQC,OACRT,EAAKU,cAsCL,MAAMC,EAAWX,EAAKY,oBAChBd,EACHe,QAAQF,GACRG,KAAKC,GA9BV,SAA8BJ,EAAkBI,GAC9CP,EAAQJ,OACRJ,EAAKgB,aACL,MAAM,SAAEpG,GAAamG,EACrB,GAAwB,IAApBnG,EAASE,OAEX,YADAuF,EAASI,OAGX,MAAMQ,EAAiB,EAAA3C,kBAAkB1D,EAASE,OAAQ,IAhB5D,SAAuB6F,EAAkBI,EAAmB3C,GAC1D,MAAM,aAAE8C,EAAY,SAAEtG,GAAamG,EACnChB,EAAYnD,KAAK,EAAAQ,SAAUuD,GAC3BZ,EAAYnD,KAAK,EAAAS,cAAe6D,GAChCnB,EAAYnD,KAAK,EAAAU,SAAU1C,GAC3BmF,EAAYnD,KAAK,EAAAW,gBAAiBa,IAYlC+C,CAAcR,EAAUI,EAAKE,GAEzBA,IAAmBrG,EAASE,OAC9BsG,EAAYhB,OAEZgB,EAAYX,OAEd,MAAMY,EAAaN,EAChBnG,SACA0G,MAAM,EAAG,EAAAnF,uBACToF,IAAIC,GAAM,IAAI,UAAKhC,GAAc9G,OAAO8I,IAC3ClB,EAASmB,OAAOJ,GAChBf,EAASG,OASMiB,CAAoBf,EAAUI,IAC1CY,MAAM,KACLnB,EAAQJ,OACRD,EAAWM,eAxDXW,EAAc,IAAI,UAAY1B,GA4DpC,WACE,MAAMkC,EAAuB7B,EAAY9C,KAAK,EAAAM,iBACxC3C,EAAsBmF,EAAY9C,KAAK,EAAAK,UACvCuE,EAAW,EAAAvD,kBAAkB1D,EAASE,OAAQ8G,GAC9CE,EAAWlH,EACd0G,MAAMM,EAAcC,GACpBN,IAAIC,GAAM,IAAI,UAAKhC,GAAc9G,OAAO8I,IAC3ClB,EAASmB,OAAOK,GAChB/B,EAAYnD,KAAK,EAAAW,gBAAiBsE,KApE+B,eAC7DvB,EAAW,IAAI,UAAef,EAAgBD,EAAW,cACzDe,EAAW,IAAI,UAASV,EAAc,kBACtCa,EAAU,IAAI,UAAQZ,EAAa,gBACnCO,EAAa,IAAI,UAAWN,EAAgB,qBAmElD,WACE,MAAMzB,EAAgB2B,EAAY9C,KAAK,EAAAM,iBACjCwE,EAAkBhC,EAAY9C,KAAK,EAAAK,UAEnC0E,EADaD,EAAKT,MAAM,EAAGlD,GAE9BmD,IAAI1I,GAAK,IAAI,UAAK2G,GAAc9G,OAAOG,IAC1CyH,EAASmB,OAAOO,GAEZ5D,IAAU2D,EAAKjH,OACjBsG,EAAYhB,OAEZgB,EAAYX,OAEdH,EAASG,OAET,MAAMwB,EAAgBlC,EAAY9C,KAAK,EAAAG,UACvC4C,EAAKkC,YAAYD,GACC,IAAI,UAAc9C,GAGtCgD,I,gGC1HA,cAEA,gBAKE,YAAYnC,GAQJ,KAAAoC,mBAAqB,IACOC,MAAMC,KAAKjJ,KAAK2G,KAAKuC,UACzCC,OAAOC,GAAwB,WAAfA,EAAMC,MAG9B,KAAAC,qBAAuB,KACzBtJ,KAAKuJ,sBACPvJ,KAAKwJ,aAAaC,gBAAgB,YAElCzJ,KAAKwJ,aAAaE,aAAa,WAAY,KAGvC,KAAAH,oBAAsB,IACrBvJ,KAAKkJ,SAASS,MAAM3J,KAAK4J,YAG1B,KAAAA,WAAa,CAACC,EAAkBC,EAAgBC,KACtD,MAAMX,EAA0BS,EAEhC,OADAT,EAAMY,kBAAkB,IACpBZ,EAAMa,SAASC,cACjBd,EAAMY,kBAAkB,EAAAG,0BAA0BD,eAC3C,GAEFd,EAAMgB,iBAGP,KAAAC,YAAezD,IACrB5G,KAAKsK,gBAAkC1D,EAAM2D,QAC7CvK,KAAKsJ,wBAGC,KAAAgB,gBAAmBlB,IACzBpJ,KAAK4J,WAAWR,GACqBA,EAAMoB,mBAC9BC,YAAcrB,EAAMsB,mBAzCjC1K,KAAK2G,KAAOA,MACR3G,KAAKkJ,UAAYlJ,KAAK+I,qBAC1B/I,KAAK2G,KAAKd,iBAAiB,QAAUe,GAAiB5G,KAAKqK,YAAYzD,IACvE5G,KAAKwJ,aAAgCxJ,KAAK2G,KAAKX,cAAc,mBAC7DhG,KAAKsJ,0B,iHCZI,EAAAa,0BAA4B,CACvCD,aAAc,gC,kKCDhB,gBACA,OACA,OAGA,MAAqBS,UAAgB,UAArC,c,oBACE,KAAAnD,QAAWF,IACT,MAAMvE,EAAM,GAAG,EAAA7C,kBAAkBoH,YAAmB,EAAAnH,qBAAqB,EAAAO,+BAA+B,EAAAN,oBACzF,EAAAE,yBAAyB,EAAAG,gBACxC,OAAOT,KAAK4K,KAAmB7H,EAAK,CAAE8H,OAAQ,UAJlD,a,kKCLA,gBAEA,MAAqBC,UAAa,UAGhC,YAAY/K,EAAsBgL,GAChCxI,MAAMxC,GAaA,KAAAiL,iBAAoBpF,IAC1B5F,KAAKC,SAAS4F,iBAAiB,SAAUD,IAG3C,KAAAyB,YAAc,KACZrH,KAAKC,SAASgL,MAAMC,cAAgB,QAGtC,KAAAvD,WAAa,KACX3H,KAAKC,SAASgL,MAAMC,cAAgB,WArBpClL,KAAKmL,aAAiCnL,KAAKC,SAAS+F,cAAc,gBAClEhG,KAAKgL,iBAAiBD,GAGxB,cACE,OAAO/K,KAAKmL,aAAanM,MAG3B,YAAYsI,GACVtH,KAAKmL,aAAanM,MAAQsI,GAd9B,a,kKCFA,gBACA,OAIA,MAAqB8D,UAAa,UAChC,YAAYC,GACV9I,MAAM8I,GAGR,QAAO,OAAEC,EAAM,MAAE3G,EAAK,YAAEK,EAAW,YAAErD,EAAW,IAAEoB,EAAG,WAAEwI,IACrD,MAAMC,EAASF,EAAOhN,KAEhBmN,EAAuBzL,KAAKC,SAASyL,WAAU,GAEvBD,EAAQzF,cAAc,QAC3C0D,aAAa,OAAQ3G,GAE9B,MAAM4I,EAAyBF,EAAQzF,cAAc,gBACrD2F,EAAUjC,aAAa,MAAO6B,GAC9BI,EAAUC,QAAU,KAClBD,EAAUjC,aAAa,MAAO,EAAQ,MAGV+B,EAAQzF,cAAc,oBAC3CyE,YAAc,EAAAzJ,uBAAuBW,GAEf8J,EAAQzF,cAAc,gBAC3CyE,YAAc9F,EAEM8G,EAAQzF,cAAc,eAC3CyE,YAAczF,EAKvB,OAHgCyG,EAAQzF,cAAc,iBAC3CyE,YAAce,EAElBC,GA/BX,a,gBCLA3N,EAAOD,QAAU,IAA0B,iD,kKCA3C,iBAEA,MAAqBgO,UAAiB,UACpC,YAAY9L,EAAsBqF,GAChC7C,MAAMxC,EAASqF,IAFnB,a,kKCFA,iBAEA,MAAqB0G,UAAgB,UACnC,YAAY/L,EAAsBqF,GAChC7C,MAAMxC,EAASqF,IAFnB,a,kKCFA,iBACA,OAEA,MAAqB2G,UAAmB,UACtC,YAAYhM,EAAsBqF,GAChC7C,MAAMxC,EAASqF,GAIT,KAAA4G,SAAW,KACUhM,KAAKC,SAAS+F,cAAc,UACjDyE,YAAc,EAAAjK,qBALpBR,KAAKgM,YAHT,a,kKCFA,iBAEA,MAAqBC,UAAoB,UAGvC,YAAYlM,EAAsB2F,EAA6BN,GAC7D7C,MAAMxC,EAAS2F,GACf1F,KAAKqF,cAAgBD,EAGvB,OACEpF,KAAKC,SAASqF,UAAUC,OAAOvF,KAAKqF,eAGtC,OACErF,KAAKC,SAASqF,UAAUE,IAAIxF,KAAKqF,gBAbrC,a,kKCHA,gBAGA,MAAqB6G,UAAuB,UAG1C,YAAY5J,EAAwBvC,EAAsBqF,GACxD7C,MAAMD,EAAWvC,GACjBC,KAAKqF,cAAgBD,EAGvB,OACEpF,KAAKC,SAASqF,UAAUC,OAAOvF,KAAKqF,eAGtC,OACErF,KAAKC,SAASqF,UAAUE,IAAIxF,KAAKqF,gBAbrC","file":"js/index.8bd59fba767d8d27e800.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","export default class BaseComponent {\r\n  protected _element: HTMLElement;\r\n\r\n  constructor(element: HTMLElement){\r\n    this._element = element;\r\n  }\r\n}\r\n","export const NEWS_API_URL = 'https://nomoreparties.co/news/v2/everything';\r\nexport const NEWS_API_KEY = '36d016b9c22e4779bda6ca662fc87eea';\r\nexport const PAGE_SIZE = 100;\r\nexport const DAYS_AGO_COUNT = 6;\r\nexport const PUBLISHED_AT = 'publishedAt';\r\nexport const REQUIRED_VALIDATE_INPUT_TEXT = 'Нужно ввести ключевое слово';\r\nexport const BAD_NEWS_API_RESULT = 'Во время запроса произошла ошибка. ' +\r\n  'Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз.';\r\nexport const NEWS_LANGUAGE = 'ru';\r\n","import { DAYS_AGO_COUNT } from \"../constants/newsApi\";\r\nimport { QUESTION_RUSSIAN_MONTH_NAMES, RUSSIAN_MONTH_NAMES } from \"../constants/dateTime\";\r\nimport { Article } from \"../types\";\r\n\r\nexport const getDaysAgoString = (): string => {\r\n  const now = new Date();\r\n  now.setDate(now.getDate() - DAYS_AGO_COUNT);\r\n  return now.toISOString();\r\n}\r\n\r\nexport const getDateWithStringMonth = (isoDate: Date): string => {\r\n  const date = new Date(isoDate);\r\n  const day = date.getDate();\r\n  const month = QUESTION_RUSSIAN_MONTH_NAMES[date.getMonth()];\r\n  const year = date.getFullYear();\r\n  return `${day} ${month}, ${year}`;\r\n}\r\n\r\n// на входе - отсортированный по убыванию дат массив новостей\r\nexport const getFirstNewsMonth = (articles: Article[]): string => {\r\n  const firstArticle = articles[articles.length - 1];\r\n  const firstArticleMonth = new Date(firstArticle.publishedAt).getMonth();\r\n  return RUSSIAN_MONTH_NAMES[firstArticleMonth];\r\n}\r\n\r\nconst compareDates = (first: Article, second: Article): number => {\r\n  const firstDate = first.publishedAt;\r\n  const secondDate = second.publishedAt;\r\n  if (firstDate > secondDate)\r\n    return 1;\r\n  else if (firstDate < secondDate)\r\n    return -1;\r\n  else\r\n    return 0;\r\n}\r\n\r\nexport const sortByDateDesc = (articles: Article[]): Article[] => {\r\n  return articles.sort(compareDates);\r\n}\r\n","export const QUESTION_RUSSIAN_MONTH_NAMES = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\",\r\n  \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"];\r\nexport const RUSSIAN_MONTH_NAMES = [\"январь\", \"февраль\", \"март\", \"апрель\", \"май\", \"июнь\",\r\n  \"июль\", \"август\", \"сентябрь\", \"октябрь\", \"ноябрь\", \"декабрь\"];\r\nexport const RUSSIAN_DAY_OF_WEEK_NAMES = [\"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\", \"вс\"];\r\n","import BaseComponent from \"./BaseComponent\";\r\nimport IContainer from \"../interfaces/IContainer\";\r\n\r\nexport default class Container extends BaseComponent implements IContainer{\r\n  private _container: HTMLElement;\r\n\r\n  constructor(container: HTMLElement, element: HTMLElement){\r\n    super(element);\r\n    this._container = container;\r\n  }\r\n\r\n  render(items: HTMLElement[]): void{\r\n    items.forEach(item => this._container.appendChild(item));\r\n  }\r\n\r\n  clear(){\r\n    this._container.innerHTML = '';\r\n  }\r\n}\r\n","export const SHOWED_NEWS_PACK_SIZE = 3;\r\n","export default class Api{\r\n  protected async http<T>(url: string, request?: RequestInit): Promise<T> {\r\n    const response = await fetch(url, request)\r\n    if (!response.ok) {\r\n      throw new Error(response.statusText)\r\n    }\r\n    return response.json() as Promise<T>;\r\n  }\r\n}\r\n","export default class DataStorage{\r\n  save = (item: string, value: any): void => {\r\n    localStorage.setItem(item, JSON.stringify(value));\r\n  }\r\n\r\n  load = (item: string): any => JSON.parse(<string>localStorage.getItem(item));\r\n}\r\n","export const QUESTION = 'question';\r\nexport const TOTAL_RESULTS = 'totalResults';\r\nexport const ARTICLES = 'articles';\r\nexport const DISPLAYED_COUNT = 'displayedCount';\r\n","import { SHOWED_NEWS_PACK_SIZE } from \"../constants/news\";\r\nimport { Article } from \"../types\";\r\n\r\nexport const getCountInTitle = (articles: Article[], word: string): number => {\r\n  word = word.toLowerCase();\r\n  const regex = new RegExp(`${word}`, 'is');\r\n  return articles.reduce((sum, curr) =>\r\n  {\r\n    const title = curr.title.toLowerCase();\r\n    return sum + title.split(regex).length - 1;\r\n  },\r\n  0);\r\n}\r\n\r\nexport const getMatchesInArticle = (article: Article, word: string): number => {\r\n  word = word.toLowerCase();\r\n  const regex = new RegExp(`${word}`, 'is');\r\n  let count = article.title\r\n    ? article.title.toLowerCase().split(regex).length - 1\r\n    : 0;\r\n  count += article.description\r\n    ? article.description.toLowerCase().split(regex).length - 1\r\n    : 0;\r\n  return count;\r\n}\r\n\r\nexport const getDisplayedCount = (arrayLength: number, count: number) => {\r\n  return arrayLength - SHOWED_NEWS_PACK_SIZE >= count\r\n    ? count + SHOWED_NEWS_PACK_SIZE\r\n    : arrayLength;\r\n}\r\n","import BaseComponent from \"./BaseComponent\";\r\nimport IHide from \"../interfaces/IHide\";\r\n\r\nexport default class HidesComponent extends BaseComponent implements IHide{\r\n  private _hideSelector: string;\r\n\r\n  constructor(element: HTMLElement, hideSelector: string){\r\n    super(element);\r\n    this._hideSelector = hideSelector;\r\n  }\r\n\r\n  show(): void {\r\n    this._element.classList.remove(this._hideSelector);\r\n  }\r\n\r\n  hide(): void {\r\n    this._element.classList.add(this._hideSelector);\r\n  }\r\n}\r\n","import BaseComponent from \"../../ts/components/BaseComponent\";\r\n\r\nexport default class Button extends BaseComponent{\r\n  constructor(element: HTMLElement, clickHandler: EventListener){\r\n    super(element);\r\n    this.setClickHandler(clickHandler);\r\n  }\r\n\r\n  private setClickHandler = (callback: EventListener): void => {\r\n    this._element.addEventListener('click', callback);\r\n  }\r\n}\r\n","import './index.css';\r\nimport FormValidator from '../../ts/modules/FormValidator';\r\nimport NewsApi from '../../ts/modules/api/NewsApi';\r\nimport Form from '../../blocks/form/Form';\r\nimport Card from '../../blocks/card/Card';\r\nimport DataStorage from '../../ts/modules/DataStorage';\r\nimport { QUESTION, TOTAL_RESULTS, ARTICLES, DISPLAYED_COUNT } from '../../ts/constants/dataStorage';\r\nimport { getDisplayedCount } from '../../ts/utils/calculator';\r\nimport NoResult from '../../blocks/no-result/NoResult';\r\nimport Loading from '../../blocks/loading/Loading';\r\nimport BadRequest from '../../blocks/bad-request/BadRequest';\r\nimport { SHOWED_NEWS_PACK_SIZE } from '../../ts/constants/news';\r\nimport HidesButton from '../../blocks/button/HidesButton';\r\nimport HidesContainer from '../../ts/components/HidesContainer';\r\nimport { Article, NewsResponse } from '../../ts/types';\r\n\r\nconst searchForm = <HTMLFormElement>document.querySelector('.form');\r\nconst cardsNode = <HTMLElement>document.querySelector('.cards');\r\nconst cardsContainer = <HTMLElement>cardsNode.querySelector('.cards__list');\r\n\r\nconst cardTemplateElement = <HTMLTemplateElement>document.querySelector('#card-template');\r\nconst cardTemplate = <HTMLTemplateElement>cardTemplateElement.content.querySelector('.card');\r\n\r\nconst cardsButtonNode = <HTMLElement>document.querySelector('.button_place_cards');\r\nconst noResultNode = <HTMLElement>document.querySelector('.no-result');\r\nconst loadingNode = <HTMLElement>document.querySelector('.loading');\r\nconst badRequestNode = <HTMLElement>document.querySelector('.bad-request');\r\n\r\nconst newsApi = new NewsApi();\r\nconst dataStorage = new DataStorage();\r\nconst form = new Form(searchForm, showNews);\r\nconst cardsButton = new HidesButton(cardsButtonNode, showMoreNews, 'button_hide');\r\nconst cardList = new HidesContainer(cardsContainer, cardsNode, 'cards_hide');\r\nconst noResult = new NoResult(noResultNode, 'no-result_hide');\r\nconst loading = new Loading(loadingNode, 'loading_hide');\r\nconst badRequest = new BadRequest(badRequestNode, 'bad-request_hide');\r\n\r\nfunction prepareDomBeforeResponse(): void {\r\n  badRequest.hide();\r\n  noResult.hide();\r\n  cardList.hide();\r\n  cardList.clear();\r\n  loading.show();\r\n  form.disableForm();\r\n}\r\n\r\nfunction saveInStorage(question: string, res: NewsResponse, count: number): void {\r\n  const { totalResults, articles } = res;\r\n  dataStorage.save(QUESTION, question);\r\n  dataStorage.save(TOTAL_RESULTS, totalResults);\r\n  dataStorage.save(ARTICLES, articles);\r\n  dataStorage.save(DISPLAYED_COUNT, count);\r\n}\r\n\r\nfunction processGoodResponse (question: string, res: NewsResponse) {\r\n  loading.hide();\r\n  form.enableForm();\r\n  const { articles } = res;\r\n  if (articles.length === 0){\r\n    noResult.show();\r\n    return;\r\n  }\r\n  const displayedCount = getDisplayedCount(articles.length, 0);\r\n  saveInStorage(question, res, displayedCount);\r\n\r\n  if (displayedCount === articles.length)\r\n    cardsButton.hide();\r\n  else\r\n    cardsButton.show();\r\n\r\n  const firstCards = res\r\n    .articles\r\n    .slice(0, SHOWED_NEWS_PACK_SIZE)\r\n    .map(ar => new Card(cardTemplate).create(ar));\r\n  cardList.render(firstCards);\r\n  cardList.show();\r\n}\r\n\r\nasync function showNews(event: Event) {\r\n  event.preventDefault();\r\n  prepareDomBeforeResponse();\r\n  const question = form.getQuestion();\r\n  await newsApi\r\n    .getNews(question)\r\n    .then(res => processGoodResponse(question, res))\r\n    .catch(() => {\r\n      loading.hide();\r\n      badRequest.show();\r\n    });\r\n}\r\n\r\nfunction showMoreNews(): void {\r\n  const currentCount: number = dataStorage.load(DISPLAYED_COUNT);\r\n  const articles: Article[] = dataStorage.load(ARTICLES);\r\n  const newCount = getDisplayedCount(articles.length, currentCount);\r\n  const newCards = articles\r\n    .slice(currentCount, newCount)\r\n    .map(ar => new Card(cardTemplate).create(ar));\r\n  cardList.render(newCards);\r\n  dataStorage.save(DISPLAYED_COUNT, newCount);\r\n}\r\n\r\nfunction init(): void {\r\n  const count = <number>dataStorage.load(DISPLAYED_COUNT);\r\n  const news = <Article[]>dataStorage.load(ARTICLES);\r\n  const showedNews = news.slice(0, count);\r\n  const showedCards = showedNews\r\n    .map(n => new Card(cardTemplate).create(n));\r\n  cardList.render(showedCards);\r\n\r\n  if (count === news.length)\r\n    cardsButton.hide();\r\n  else\r\n    cardsButton.show();\r\n\r\n  cardList.show();\r\n\r\n  const savedQuestion = dataStorage.load(QUESTION);\r\n  form.setQuestion(savedQuestion);\r\n  const validator = new FormValidator(searchForm);\r\n}\r\n\r\ninit();\r\n","import { VALIDATION_ERROR_MESSAGES } from '../constants/validation';\r\n\r\nexport default class FormValidator{\r\n  private form: HTMLFormElement;\r\n  private submitButton: HTMLFormElement;\r\n  private elements: HTMLElement[];\r\n\r\n  constructor(form: HTMLFormElement){\r\n    this.form = form;\r\n    [...this.elements] = this.getNotSubmitInputs();\r\n    this.form.addEventListener('input', (event: Event) => this.handleInput(event));\r\n    this.submitButton = <HTMLFormElement>this.form.querySelector('[type=\"submit\"]');\r\n    this.setSubmitButtonState();\r\n  }\r\n\r\n  private getNotSubmitInputs = (): HTMLFormElement[] => {\r\n    const inputs = <HTMLFormElement[]>Array.from(this.form.elements);\r\n    return inputs.filter(input => input.type !== 'submit');\r\n  }\r\n\r\n  private setSubmitButtonState = () => {\r\n    if (this.checkInputsValidity())\r\n      this.submitButton.removeAttribute('disabled');\r\n    else\r\n      this.submitButton.setAttribute('disabled', '');\r\n  }\r\n\r\n  private checkInputsValidity = (): boolean => {\r\n    return this.elements.every(this.isValidate);\r\n  }\r\n\r\n  private isValidate = (inp: HTMLElement, index?: number, array?: HTMLElement[]) => {\r\n    const input = <HTMLInputElement>inp;\r\n    input.setCustomValidity(\"\");\r\n    if (input.validity.valueMissing) {\r\n      input.setCustomValidity(VALIDATION_ERROR_MESSAGES.valueMissing);\r\n      return false;\r\n    }\r\n    return input.checkValidity();\r\n  }\r\n\r\n  private handleInput = (event: Event): void  => {\r\n    this.setErrorContent(<HTMLInputElement>event.target);\r\n    this.setSubmitButtonState();\r\n  }\r\n\r\n  private setErrorContent = (input: HTMLInputElement): void => {\r\n    this.isValidate(input);\r\n    const errorElement = <HTMLDivElement>input.nextElementSibling;\r\n    errorElement.textContent = input.validationMessage;\r\n  }\r\n}\r\n","export const VALIDATION_ERROR_MESSAGES = {\r\n  valueMissing: 'Нужно ввести ключевое слово'\r\n}\r\n","import Api from \"./Api\";\r\nimport { getDaysAgoString } from \"../../utils/dateHelper\";\r\nimport { NEWS_API_URL, NEWS_API_KEY, PAGE_SIZE, PUBLISHED_AT, NEWS_LANGUAGE } from \"../../constants/newsApi\";\r\nimport { NewsResponse } from \"../../types\";\r\n\r\nexport default class NewsApi extends Api{\r\n  getNews = (question: string): Promise<NewsResponse> =>{\r\n    const url = `${NEWS_API_URL}?q=${question}&apiKey=${NEWS_API_KEY}&from=${getDaysAgoString()}&pageSize=${PAGE_SIZE}`\r\n      + `&sortBy=${PUBLISHED_AT}&language=${NEWS_LANGUAGE}`;\r\n    return this.http<NewsResponse>(url, { method: 'GET' });\r\n  }\r\n}\r\n","import BaseComponent from \"../../ts/components/BaseComponent\";\r\n\r\nexport default class Form extends BaseComponent{\r\n  private _searchInput: HTMLInputElement;\r\n\r\n  constructor(element: HTMLElement, submitHandler: EventListener){\r\n    super(element);\r\n    this._searchInput = <HTMLInputElement>this._element.querySelector('.form__input');\r\n    this.setSubmitHandler(submitHandler);\r\n  }\r\n\r\n  getQuestion(){\r\n    return this._searchInput.value;\r\n  }\r\n\r\n  setQuestion(question: string){\r\n    this._searchInput.value = question;\r\n  }\r\n\r\n  private setSubmitHandler = (callback: EventListener) => {\r\n    this._element.addEventListener('submit', callback);\r\n  }\r\n\r\n  disableForm = (): void => {\r\n    this._element.style.pointerEvents = 'none';\r\n  };\r\n\r\n  enableForm = (): void => {\r\n    this._element.style.pointerEvents = 'initial';\r\n  };\r\n}\r\n","import BaseComponent from \"../../ts/components/BaseComponent\";\r\nimport { getDateWithStringMonth } from \"../../ts/utils/dateHelper\";\r\nimport { Article } from \"../../ts/types\";\r\nimport ITemplateElement from \"../../ts/interfaces/ITemplateElement\";\r\n\r\nexport default class Card extends BaseComponent implements ITemplateElement{\r\n  constructor(template: HTMLElement){\r\n    super(template);\r\n  }\r\n\r\n  create({ source, title, description, publishedAt, url, urlToImage }: Article) {\r\n    const author = source.name;\r\n\r\n    const newCard = <HTMLElement>this._element.cloneNode(true);\r\n\r\n    const linkNode = <HTMLElement>newCard.querySelector('.ref');\r\n    linkNode.setAttribute('href', url);\r\n\r\n    const imageNode = <HTMLElement>newCard.querySelector('.card__image');\r\n    imageNode.setAttribute('src', urlToImage);\r\n    imageNode.onerror = (): void => {\r\n      imageNode.setAttribute('src', require('../../images/cards/womanyellingcat.jpg'));\r\n    };\r\n\r\n    const dateNode = <HTMLElement>newCard.querySelector('.card__text-date');\r\n    dateNode.textContent = getDateWithStringMonth(publishedAt);\r\n\r\n    const titleNode = <HTMLElement>newCard.querySelector('.card__title');\r\n    titleNode.textContent = title;\r\n\r\n    const textNode = <HTMLElement>newCard.querySelector('.card__text');\r\n    textNode.textContent = description;\r\n\r\n    const sourceNode = <HTMLElement>newCard.querySelector('.card__source');\r\n    sourceNode.textContent = author;\r\n\r\n    return newCard;\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"./images/9ae46051b6d238ca4625464722bddc35.jpg\";","import HidesComponent from \"../../ts/components/HidesComponent\";\r\n\r\nexport default class NoResult extends HidesComponent{\r\n  constructor(element: HTMLElement, hideSelector: string){\r\n    super(element, hideSelector);\r\n  }\r\n}\r\n","import HidesComponent from \"../../ts/components/HidesComponent\";\r\n\r\nexport default class Loading extends HidesComponent {\r\n  constructor(element: HTMLElement, hideSelector: string){\r\n    super(element, hideSelector);\r\n  }\r\n}\r\n","import HidesComponent from \"../../ts/components/HidesComponent\";\r\nimport { BAD_NEWS_API_RESULT } from \"../../ts/constants/newsApi\";\r\n\r\nexport default class BadRequest extends HidesComponent{\r\n  constructor(element: HTMLElement, hideSelector: string){\r\n    super(element, hideSelector);\r\n    this.addTitle();\r\n  }\r\n\r\n  private addTitle = (): void => {\r\n    const title = <HTMLElement>this._element.querySelector('.title');\r\n    title.textContent = BAD_NEWS_API_RESULT;\r\n  }\r\n}\r\n","import IHide from \"../../ts/interfaces/IHide\";\r\nimport Button from \"./Button\";\r\n\r\nexport default class HidesButton extends Button implements IHide{\r\n  private _hideSelector: string;\r\n\r\n  constructor(element: HTMLElement, clickHandler: EventListener, hideSelector: string){\r\n    super(element, clickHandler);\r\n    this._hideSelector = hideSelector;\r\n  }\r\n\r\n  show(): void {\r\n    this._element.classList.remove(this._hideSelector);\r\n  }\r\n\r\n  hide(): void {\r\n    this._element.classList.add(this._hideSelector);\r\n  }\r\n}\r\n","import Container from \"./Container\";\r\nimport IHide from \"../interfaces/IHide\";\r\n\r\nexport default class HidesContainer extends Container implements IHide{\r\n  private _hideSelector: string;\r\n\r\n  constructor(container: HTMLElement, element: HTMLElement, hideSelector: string){\r\n    super(container, element);\r\n    this._hideSelector = hideSelector;\r\n  }\r\n\r\n  show(): void {\r\n    this._element.classList.remove(this._hideSelector);\r\n  }\r\n\r\n  hide(): void {\r\n    this._element.classList.add(this._hideSelector);\r\n  }\r\n}\r\n"],"sourceRoot":""}